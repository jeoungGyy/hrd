<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dialog Test</title>

<style>
/* dialog */
dialog {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: none;
  border-radius: 8px;
  padding: 20px;
  background: #fff;
  z-index: 10001;
}

/* open 상태가 아닐 때만 숨기기 */
dialog:not([open]) {
  display: none;
}

dialog::backdrop {
  background: rgba(0, 0, 0, .5);
}

/* div layer */
.layer-dim {
  display: none;
  position: fixed;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,.5);
  z-index: 10000;
}
.layer-popup {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  padding: 20px;
  border-radius: 8px;
}
</style>
</head>

<body>
글글글글글글글글글글글글글글글글
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    글글글글글글글글글글글글글글글글글
<!-- dialog -->
<dialog id="dialogLayer">
  <p>dialog 팝업입니다.</p>
  <button class="dialog-close">닫기</button>
</dialog>

<!-- div 레이어 팝업 -->
<div class="layer-dim" id="divLayer">
  <div class="layer-popup">
    <p>div 팝업입니다.</p>
    <button class="div-close">닫기</button>
  </div>
</div>

<!-- buttons -->
<button id="openDialog">dialog 열기</button>
<button id="openDiv">div 레이어 열기</button>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
$(function() {
  const dialog = document.getElementById("dialogLayer");

  /** dialog 관리 **/
  $("#openDialog").on("click", function() {
    dialog.showModal();
  });
  $(".dialog-close").on("click", function() {
    dialog.close();
  });
  // dialog 바깥 클릭 시 닫기
  $("#dialogLayer").on("click", function(e) {
    if (e.target === this) dialog.close();
  });

  /** div layer 관리 **/
  $("#openDiv").on("click", function() {
    $("#divLayer").fadeIn(200);
  });
  $(".div-close, #divLayer").on("click", function(e) {
    if (e.target === this) $("#divLayer").fadeOut(200);
  });

  /** ESC로 닫기 (공통) **/
  $(document).on("keydown", function(e) {
    if (e.key === "Escape") {
      if (dialog.open) dialog.close();
      $("#divLayer").fadeOut(200);
    }
  });
});
</script>

</body>
</html>
