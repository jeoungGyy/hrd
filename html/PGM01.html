<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dialog</title>
    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
<style>
/* dialog 스타일 */
dialog {
  border: none;
  border-radius: 8px;
  padding: 20px;
}
dialog::backdrop {
  background: rgba(0, 0, 0, .5);
}

/* div 레이어 */
.layer-dim {
  display: none;
  position: fixed;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,.5);
}
.layer-popup {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  padding: 20px;
  border-radius: 8px;
}
</style>
</head>
<body>
  <div>
    글글글글글글글글글글글글글글글글
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    <button type="button">버튼 포커스 테스트</button> <br>
    글글글글글글글글글글글글글글글글글


      <!-- dialog -->
<dialog id="dialogLayer">
  <p>dialog 팝업입니다.</p>
  <button class="dialog-close">닫기</button>
</dialog>

<!-- div layer popup -->
<div class="layer-dim" id="divLayer">
  <div class="layer-popup">
    <p>div 팝업입니다.</p>
    <button class="div-close">닫기</button>
  </div>
</div>
  </div>


<button id="openDialog">dialog 열기</button>
<button id="openDiv">div 레이어 열기</button>

<script>
$(function() {
  const dialog = document.getElementById("dialogLayer");

  /** dialog 제어 **/
  $("#openDialog").on("click", () => dialog.showModal());
  $(".dialog-close").on("click", () => dialog.close());

  // 배경 클릭하면 닫기
  $("#dialogLayer").on("click", function(e) {
    if (e.target === this) this.close();
  });

  /** div 레이어 제어 **/
  $("#openDiv").on("click", function() {
    $("#divLayer").fadeIn(200);
  });
  $(".div-close, #divLayer").on("click", function(e) {
    if (e.target === this) $("#divLayer").fadeOut(200);
  });

  /** ESC 닫기 (공통) **/
  $(document).on("keydown", function(e) {
    if (e.key === "Escape") {
      dialog.close();
      $("#divLayer").fadeOut(200);
    }
  });
});
</script>
</body>
</html>
